<VirtualHost *:80>
    ServerName localhost
    DocumentRoot /var/www/html
    
    <Directory /var/www/html>
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
        DirectoryIndex index.php index.html index.htm
    </Directory>
    
    <FilesMatch \.php$>
        SetHandler application/x-httpd-php
    </FilesMatch>

    # Security headers
    Header always set X-Content-Type-Options nosniff
    Header always set X-Frame-Options DENY
    Header always set X-XSS-Protection "1; mode=block"

    # Compression
    <IfModule mod_deflate.c>
        AddOutputFilterByType DEFLATE text/plain
        AddOutputFilterByType DEFLATE text/html
        AddOutputFilterByType DEFLATE text/xml
        AddOutputFilterByType DEFLATE text/css
        AddOutputFilterByType DEFLATE application/xml
        AddOutputFilterByType DEFLATE application/xhtml+xml
        AddOutputFilterByType DEFLATE application/rss+xml
        AddOutputFilterByType DEFLATE application/javascript
        AddOutputFilterByType DEFLATE application/x-javascript
    </IfModule>

    ErrorLog /var/log/apache2/error.log
    CustomLog /var/log/apache2/access.log combined
</VirtualHost>

# Virtual host for shared logprostyle project - REMOVED propolife-webs references
# <VirtualHost *:80>
#     ServerName logprostyle.local
#     ServerAlias www.logprostyle.local
#     DocumentRoot /var/www/shared/propolife-webs/sources/logprostyle/main
#     
#     <Directory /var/www/shared/propolife-webs/sources/logprostyle/main>
#         Options -Indexes FollowSymLinks
#         AllowOverride All
#         Require all granted
#         DirectoryIndex index.php index.html
#     </Directory>
#     
#     # WordPress specific rules
#     <Files wp-config.php>
#         Require all denied
#     </Files>
#     
#     <Files .htaccess>
#         Require all denied
#     </Files>
#     
#     ErrorLog /var/log/apache2/logprostyle_error.log
#     CustomLog /var/log/apache2/logprostyle_access.log combined
# </VirtualHost>

# Virtual host for local projects
<VirtualHost *:80>
    ServerName lamp.local
    ServerAlias www.lamp.local
    DocumentRoot /var/www/html
    
    <Directory /var/www/html>
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
        DirectoryIndex index.php index.html index.htm
    </Directory>
    
    ErrorLog /var/log/apache2/lamp_error.log
    CustomLog /var/log/apache2/lamp_access.log combined
</VirtualHost>

# Test virtual host
<VirtualHost *:80>
    ServerName test.local
    DocumentRoot /var/www/html/test
    
    <Directory /var/www/html/test>
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
        DirectoryIndex index.php index.html
    </Directory>
    
    ErrorLog /var/log/apache2/test_error.log
    CustomLog /var/log/apache2/test_access.log combined
</VirtualHost>